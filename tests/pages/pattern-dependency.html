<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Pattern Dependency</title>
  <link rel="stylesheet" id="theme-link" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" id="iconlib-link" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">
  <script src="../../dist/jsoneditor.js"></script>
</head>
<body>

<div class="container">
  <div class='json-editor-container'></div>
</div>


<script>
  var jsonEditorContainer = document.querySelector('.json-editor-container');
  var schema = {
  "type": "object",
  "title": "Pattern Dependency",
  "required": [
    "ServerName"
  ],
  "properties": {
    "How To Use": {
      "type": "info",
      "title": "This page demonstrates how to use regex pattern dependencies in JSON Editor.",
      "description": "Enter the name of the server in the regex format ^(AA|BB|CC)-[0-99]{2}$ (if you're unfamiliar with regex, that just means the server name must start with \"AA\", \"BB\", or \"CC\", then be followed by a hyphen, and end with two digits.) If the server starts with \"AA\" the field Cloud 1 will appear. If it starts with \"BB\" Cloud 2 appears. And if it starts with \"CC\" Cloud 3 appears."
    },
    "ServerName": {
      "type": "string",
      "title": "Server Name",
      "description": "Name of the Server",
      "pattern": "^(AA|BB|CC)-[0-99]{2}$",
      "examples": [
        "AA-01",
        "BB-55"
      ]
    },
    "Cloud1": {
      "title": "Cloud1",
      "type": "string",
      "description": "Cloud in VMM",
      "enum": ["one", "two"],
      "options": {
        "dependencies": {
          "ServerName": {
            "pattern": "^(AA)-[0-99]{2}$"
          }
        }
        
      }
    },
    "Cloud2": {
      "title": "Cloud2",
      "type": "string",
      "description": "Cloud in VMM",
      "enum": ["three", "four"],
      "options": {
        "dependencies": {
          "ServerName": {
            "pattern": "^(BB)-[0-99]{2}$"
          }
        }
      }
    },
    "Cloud3": {
      "title": "Cloud3",
      "type": "string",
      "description": "Cloud in VMM",
      "enum": ["five", "six"],
      "options": {
        "dependencies": {
          "ServerName": {
            "pattern": "^(CC)-[0-99]{2}$"
          }
        }
      }
    }
  }
}

  var editor = new JSONEditor(jsonEditorContainer, {
    schema: schema,
    theme: 'bootstrap4',
    use_default_values: false,
    required_by_default: true,
    show_errors: 'always'
  });

</script>

</body>
</html>
